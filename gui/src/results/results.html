<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta and Title -->
    <meta charset="UTF-8">
    <title>LipidIMEA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Stylesheet Link -->
    <link href="../style.css" rel="stylesheet">
</head>

<body>
<!-- Navbar -->
    <div>
        <nav class="menu" style="z-index:1000;">
          <!-- <a href="../intro/intro.html" class="menu-item">Instructions</a> -->
          <a href="../experiment/experiment.html" class="menu-item">Process Data</a>
          <a href="#../results/results.html" class="menu-item">View Results</a>
        </nav>
    </div>

  <!-- Page content -->
  <div class="content-wrapper">
    <!-- Inital Box containing  'Open Results' Button -->
    <html>
    <div class="results-outer-box">
        <!-- <span class="table-header-and-button">Select a SQLite database:</span> -->
        <button class="table-header-and-button" id="show-table-button" onclick="databaseDialog()">Open Results</button>
      <!-- <button id="show-table-button" style="display:none" onclick="databaseDialog()"></button> -->
      <div class="small-break"></div>
      <!-- Main Table from SQLite -->
      <div class="top-table" id="main-table-container"></div>
      <br>
      <!-- Results Section -->
      <div id='below-table-content' style="display: none">

      <!-- Row 1 Labels -->
      <div class="plot-row-labels">
        <div class="label-half"><span class="label" >Annotated Features</span></div>
        <div class="label-half"><span class="label" >MS2 Spectra (centroided)</span></div>
      </div>

    <!-- Row Formatter -->
      <div class="plot-row">
        <!-- Annotated Features, Other Features from DDA/DIA -->
          <div class="plot-half-split"> 
            <div id="annotation-table" class="plot-full-top"></div>
            <div id="error-message-annotation" style="color: black;"></div>
            <!-- Replace this with Other DDA Features from same DIA -->
            <span class="label" >Aligned DDA Features</span> 
            <!-- <div class="top-table" id="table-dda-mapped-dia" class="plot-full-bot"></div> -->
            <div class="top-table" id="dda-features-table" class="plot-full-bot"></div>
          </div>
          <!-- Bidirectional DDA/DIA Plot -->
          <div class="plot-half">
            <div id="bidirectional-plot"></div>
            <div id="error-message-bidirectional-plot" style="color: black;">MS2 peaks not found for DDA or DIA.</div>
          </div>
      </div>

      <!-- Row 2 Labels -->
      <div class="plot-row-labels">
        <div class="label-quarter"><span class="label">MS1 Spectra</span></div>
        <div class="label-quarter"><span class="label">Extracted Ion Chromatogram</span></div>
        <div class="label-quarter"><span class="label">Arrival Time Distribution</span></div>
        <div class="label-half"><span class="label">Deconvoluted DIA Fragments</span></div>
      </div>
      <!-- Row Formatter -->
      <div class="plot-row">
          <div class="plot-quarter">
            <!-- MS1 Spectra Plot -->
            <div id="ms1-plot"></div>
            <span class="label" >All DIA Features from the selected DDA Feature</span>
            <div><span class="label">m/z:</span> <span class="info"id="mz"></span></div>
          </div>
          <div class="plot-quarter">
            <!-- Extracted Ion Chomatogram -->
              <div id="ion-chromatogram-plot"></div>
              <div><span class="label">RT:</span> <span class="info"id="rt"></span> <span class="info"> min</span></div>
              <div><span class="label">Height:</span> <span class="info" id="rt_pkht"></span></div>
              <div><span class="label">FWHM:</span> <span class="info" id="rt_fwhm"></span></div>
              <div><span class="label">SNR:</span> <span class="info" id="rt_psnr"></span></div>
          </div>
          <div class="plot-quarter">
            <!-- Arrival Time Distribution Plot -->
            <div id="arrival-time-plot"></div>
            <div><span class="label">Arrival Time:</span> <span class="info" id="dt"></span></div>
            <div><span class="label">Height:</span> <span class="info" id="dt_pkht"></span></div>
            <div><span class="label">FWHM:</span> <span class="info" id="dt_fwhm"></span></div>
            <div><span class="label">SNR:</span> <span class="info" id="dt_psnr"></span></div>
            <!-- Hidden Elements - Currently needed as references for things in renderer_res. -->
            <!-- Note to self - remove these after updating renderer_res. -->
            <div style="display: none"><span class="label">RT:</span> <span class="info"id="dda_rt_value"></span> <span class="info"> min</span></div>
            <div style="display: none"><span class="label">Height:</span> <span class="info" id="dda_rt_pkht_value"></span></div>
            <div style="display: none"><span class="label">FWHM:</span> <span class="info" id="dda_rt_fwhm_value"></span></div>
            <div style="display: none"><span class="label">SNR:</span> <span class="info" id="dda_rt_psnr_value"></span></div>
            <div style="display: none"><span class="label"></span> <span class="info" id="dia_atd_value"></span></div>
            <div style="display: none"><span class="label"></span> <span class="info" id="dia_xic_value"></span></div>

        </div>
          <div class="plot-half">
            <!-- Deconvoluted Fragment Table  -->
            <div class="left-section">
                <div id="deconvoluted-frags-table"></div>
                <div id="error-message" style="color: black;"></div>
                <!-- <div><span class="info" id="xic-dist-value"></span></div>
                <div><span class="info" id="atd-dist-value"></span></div> -->
            </div>
            <div class="right-section" id="plots-container">
              <!-- Deconvoluted Fragment XIC Plot   -->
                <div class = "plot-half" id="decon-xic-plot"></div>
              <!-- Deconvoluted Fragment ATD Plot   -->
                <div class = "plot-half" id="decon-atd-plot"></div>
            </div>
        </div>
        
      </div>
    </div>

  </div>
  </div>
    <!-- Add space between results and Footer -->
  <div class="empty-element"></div>
</body>

<!-- Footer -->

<footer class="footer">
  <a href="#documentation"  onclick="window.open('../docs/index.html', '_blank', 'top=400,left=200,frame=true,nodeIntegration=no');">Documentation</a>
</footer>


<!-- End Page Content -->
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="renderer_res.js"></script>


</html>