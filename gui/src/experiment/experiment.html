<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Meta and Title -->
    <title>LipidIMEA</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Stylesheet Link -->
    <link href="../style.css" rel="stylesheet">
</head>

<body>
    <!-- Navbar -->
    <div>
        <nav class="menu" style="z-index:1000;">
            <!-- <a href="../intro/intro.html" class="menu-item" onclick="return confirm('Are you sure you want to leave this tab? Current data will be lost.')">Instructions</a> -->
            <a href="#../experiment/experiment.html" class="menu-item">Process Data</a>
            <a href="../results/results.html" class="menu-item" onclick="return confirm('Are you sure you want to leave this tab? Current data will be lost.')">View Results</a>
        </nav>
    </div>

    <!-- Page content -->
    <div class="content-wrapper">

        <!-- The Header -->
        <h1>Experimental Setup</h1>

        <div>
            <!-- Tabs -->
            <div class="tab">
                <button class="tablinks" onclick="openTab(event, 'file-upload')">File Upload</button>
                <button class="tablinks" onclick="openTab(event, 'parameter-general')">General Parameters</button>
                <button class="tablinks" onclick="openTab(event, 'parameter-advanced')">Advanced Parameters</button>
                <button class="tablinks" onclick="openTab(event, 'run-experiment')">Run Experiment</button>
            </div>
            <!-- File Upload Tab -->
            <div id="file-upload" class="tabcontent inner-background">
                <label for="experiment-type">Experiment Type:</label>
                <input type="checkbox" id="experiment-type-dda-advanced" name="experiment-type" value="DDA" checked>
                <label for="experiment-type-dda-advanced">DDA</label>
                <input type="checkbox" id="experiment-type-dia-advanced" name="experiment-type" value="DIA" checked>
                <label for="experiment-type-dia-advanced">DIA</label>
                <input type="checkbox" id="experiment-type-annotate-advanced" name="experiment-type" value="Annotate" checked>
                <label for="experiment-type-annotate-advanced">Annotate</label>
                

                <!-- DDA File Upload -->
                <div id="dda-file-region">
                  <div class="file-area">
                    <h2>DDA Data Selection</h2>
                    <button id="select-button-dda">Select File(s)</button>
                  </div>
                    <div class="file-section">
                        <input type="file" id="dda-file-input" style="display: none;" multiple>
                        <ul id="file-list-dda" style="list-style-type: none;"></ul>
                    </div>
                </div>
  
                <!-- DIA File Upload -->
                <div id="dia-file-region">
                  <div class="file-area">
                    <h2>DIA Data Selection</h2>
                    <button id="select-button-dia">Select File(s)</button>
                  </div>
                      <div class="file-section">
                        <input type="file" id="dia-file-input" style="display: none;" multiple>
                        <ul id="file-list-dia" style="list-style-type: none;"></ul>
                    </div>
                </div>
  
                <!-- Database File Upload
                <div class="file-area">
                  <h2>Lipid ID Database Selection (Optional)</h2>
                      <button id="select-button-database">Select File</button>
                  </div>
                  <div class="file-section">
                      <input type="file" id="database-file-input" style="display: none;" >
                      <ul id="file-list-database" style="list-style-type: none;"></ul>
                  </div> -->

                <!-- Annotation File Upload
                <div id="annotate-file-region">
                <div class="file-area">
                    <h2>Annotation Parameter File (Optional)</h2>
                        <button id="select-button-annotation">Select File</button>
                    </div>
                    <div class="file-section">
                        <input type="file" id="annotation-file-input" style="display: none;" >
                        <ul id="file-list-annotation" style="list-style-type: none;"></ul>
                    </div>
                </div> -->

                <!-- Fragmentation Rules Config File (Optional) -->

                <div id="frag-rules-config-file-region">
                    <div class="file-area">
                    <h2>Fragmentation Rules Config File (Optional)</h2>
                    <button id="select-button-frag-rules-config">Select File</button>
                    </div>
                    <div class="file-section">
                    <input type="file" id="frag-rules-config-file-input" style="display: none;">
                    <ul id="file-list-frag-rules-config" style="list-style-type: none;"></ul>
                    </div>
                </div>
                
                <!-- CCS Trends Config File (Optional) -->
                <div id="ccs-trends-config-file-region">
                    <div class="file-area">
                    <h2>CCS Trends Config File (Optional)</h2>
                    <button id="select-button-ccs-trends-config">Select File</button>
                    </div>
                    <div class="file-section">
                    <input type="file" id="ccs-trends-config-file-input" style="display: none;">
                    <ul id="file-list-ccs-trends-config" style="list-style-type: none;"></ul>
                    </div>
                </div>
                
                <!-- RT Range Config File (Optional) -->
                <div id="rt-range-config-file-region">
                    <div class="file-area">
                    <h2>RT Range Config File (Optional)</h2>
                    <button id="select-button-rt-range-config">Select File</button>
                    </div>
                    <div class="file-section">
                    <input type="file" id="rt-range-config-file-input" style="display: none;">
                    <ul id="file-list-rt-range-config" style="list-style-type: none;"></ul>
                    </div>
                </div>
                
                <!-- Sum Composition Config File (Optional) -->
                <div id="sum-comp-config-file-region">
                    <div class="file-area">
                    <h2>Sum Composition Config File (Optional)</h2>
                    <button id="select-button-sum-comp-config">Select File</button>
                    </div>
                    <div class="file-section">
                    <input type="file" id="sum-comp-config-file-input" style="display: none;">
                    <ul id="file-list-sum-comp-config" style="list-style-type: none;"></ul>
                    </div>
                </div>
                



            </div>


            <!-- General Parameter Selection Tab -->
            <!-- <div id="parameter-general" class="tabcontent inner-background" style="display: block;"> -->
            <div id="parameter-general" class="tabcontent inner-background">
                <!-- General Checkboxes -->
            <div class="centercontent">
              <label for="experiment-type">Experiment Type:</label>
                  <input type="checkbox" id="experiment-type-dda-general" name="experiment-type" value="DDA" checked>
                  <label for="experiment-type-dda-general">DDA</label>
                  <input type="checkbox" id="experiment-type-dia-general" name="experiment-type" value="DIA" checked>
                  <label for="experiment-type-dia-general">DIA</label>                  
                  <input type="checkbox" id="experiment-type-annotate-general" name="experiment-type" value="Annotate" checked>
                  <label for="experiment-type-annotate-general">Annotate</label>
            </div>
              <div class="centercontent">
                <!-- General Parameter Buttons -->
                  <button class="btn" onclick="WriteToYaml('duo-inputs-column-both-general')">Write Parameters To File</button>
                  <button id="upload-data-button-general">Load Parameters from File</button>
              </div>
              <div>
                <!-- General Parameters are defined by default file in "_include" and formatted in renderer_exp.js -->
                  <div id="duo-inputs-column-both-general" class="param-as-two-columns" ></div>
                  <div id="param-empty-gen" class="empty-params" style="display: none">No Parameters to Display. Select DIA and/or DDA to proceed.</div>
              </div>
          </div>
            <!-- Advanced Parameter Selection Tab -->
            <div id="parameter-advanced" class="tabcontent inner-background" style="display: block;">
                <!-- Advanced Checkboxes -->
                <div class="centercontent">
                <label for="experiment-type">Experiment Type:</label>
                    <input type="checkbox" id="experiment-type-dda-advanced" name="experiment-type" value="DDA" checked>
                    <label for="experiment-type-dda-advanced">DDA</label>
                    <input type="checkbox" id="experiment-type-dia-advanced" name="experiment-type" value="DIA" checked>
                    <label for="experiment-type-dia-advanced">DIA</label>
                    <input type="checkbox" id="experiment-type-annotate-advanced" name="experiment-type" value="Annotate" checked>
                    <label for="experiment-type-annotate-advanced">Annotate</label>
                </div> 
                <div class="centercontent">
                    <!-- Advanced Parameter Buttons -->
                    <button class="btn" onclick="WriteToYaml('duo-inputs-column-both-advanced')">Write Parameters To File</button>
                    <button id="upload-data-button-advanced">Load Parameters from File</button>
                </div>
                <div>
                <!-- Advanced Parameters are defined by default file in "_include" and formatted in renderer_exp.js -->
                    <div id="duo-inputs-column-both-advanced" class="param-as-two-columns"></div>
                    <div id="param-empty-adv" class="empty-params"  style="display: none">No Parameters to Display. Select DIA and/or DDA to proceed.</div>
                </div>
            </div>


            <!-- Note to Self - Checkboxes currently share IDs in this tab and previous. Update this when possible. -->
            <!-- Run Experiment Tab -->
            <div id="run-experiment" class="tabcontent inner-background">

                <!-- Experiment Checkboxes -->
                <div class="section-container">
                    <label class="section-label">Experiment Type:</label>
                    <div class="checkbox-option">
                        <input type="checkbox" id="experiment-type-dda-advanced" name="experiment-type" value="DDA" checked>
                        <label for="experiment-type-dda-advanced">DDA</label>
                    </div>
                    <div class="checkbox-option">
                        <input type="checkbox" id="experiment-type-dia-advanced" name="experiment-type" value="DIA" checked>
                        <label for="experiment-type-dia-advanced">DIA</label>
                    </div>
                    <div class="checkbox-option">
                    <input type="checkbox" id="experiment-type-annotate-general" name="experiment-type" value="Annotate" checked>
                    <label for="experiment-type-annotate-general">Annotate</label>
                    </div>
                </div>
            
                <!-- Database Options Section -->
                <div class="section-container" id="db-options">
                    <label class="section-label">Database Options:</label>
                    <div class="radio-option">
                        <input type="radio" id="append-option" name="db_option" value="append" checked>
                        <label for="append-option">Append</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="overwrite-option" name="db_option" value="overwrite">
                        <label for="overwrite-option">Overwrite</label>
                    </div>
                    <div class="radio-option">
                        <input type="radio" id="create-new-option" name="db_option" value="create_new">
                        <label for="create-new-option">Create New</label>
                    </div>
                </div>

                <!-- Ionization Options -->
                <div class="section-container" id="ionization-options">
                        <label class="section-label">Ionization Options:</label>
                        <div class="radio-option">
                            <input type="radio" id="ionization-positive" name="ionization" value="positive" checked>
                            <label for="ionization-positive">Positive</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="ionization-negative" name="ionization" value="negative">
                            <label for="ionization-negative">Negative</label>
                        </div>
                </div>
                <!-- Annotation Options -->
                <div class="section-container" id="annotate-options">
                        <label class="section-label">Annotation Options:</label>
                        <div class="radio-option">
                            <input type="radio" id="annotation-append" name="annotation" value="append" checked>
                            <label for="annotation-append">Append</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="annotation-overwrite" name="annotation" value="overwrite">
                            <label for="annotation-overwrite">Overwrite</label>
                        </div>
                </div>
                <!-- Annotation Behavior -->
                <div class="section-container" id="annotate-behavior">
                        <label class="section-label">Annotation Behavior:</label>
                        <div class="radio-option">
                            <input type="radio" id="behavior-default" name="behavior" value="default" checked>
                            <label for="behavior-default">Default</label>
                        </div>
                        <div class="radio-option">
                            <input type="radio" id="behavior-custom" name="behavior" value="custom">
                            <label for="behavior-custom">Custom File(s)</label>
                        </div>
                </div>

                <!-- Calibration Button -->
                <div class="section-container" id="calibrate-options">
                    <label class="section-label">Calibrate DIA</label>
                    <div class="radio-option">
                      <input type="radio" id="calibrate-yes" name="calibrate" value="yes">
                      <label for="calibrate-yes">Yes</label>
                    </div>
                    <div class="radio-option">
                      <input type="radio" id="calibrate-no" name="calibrate" value="no" checked>
                      <label for="calibrate-no">No</label>
                    </div>
                  </div>
                

                <!-- Note to self - update this button/checkbox. -->
                <!-- Save Parameters Section -->
                <div class="section-container">
                    <label class="section-label">Save Parameters:</label>
                    <input type="checkbox" id="save-params" name="save-params" checked>
                </div>

                <!-- Experiment Details Section -->
                <div class="section-container" id="new-db-name-container">
                    <label class="section-label">Results Name Prefix:</label>
                    <input type="text" id="experiment-name" placeholder="Enter Experiment Name">
                </div>

                <!-- Save Directory Section -->
                <div class="section-container" id="selected-directory-container">
                    <label class="section-label">Results Save Location:</label>
                    <input type="text" id="selected-directory" readonly placeholder="No directory selected">
                    <button class="dir-btn" onclick="selectSaveDirectory()">Select Directory</button>

                </div>

                <!-- Run Experiment Button -->
                <div class="section-container">
                    <button class="btn" id ="run-btn" onclick="RunExperiment(); disableButton()">Run Experiment</button>
                </div>


                <br><br>
                <label for="output-box" >Real-time Results</label>
                <div class="output-box" id="output-box"></div>

            </div>


        </div>
    </div>


</body>

<!-- Footer -->
<footer class="footer">
    <a href="#documentation"  onclick="window.open('../docs/index.html', '_blank', 'top=400,left=200,frame=true,nodeIntegration=no');">Documentation</a>
</footer>

<script src="renderer_exp.js"></script>
    
</html>